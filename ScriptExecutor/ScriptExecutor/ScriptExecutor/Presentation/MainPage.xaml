<Page x:Class="ScriptExecutor.Presentation.MainPage" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:local="using:ScriptExecutor.Presentation" xmlns:uen="using:Uno.Extensions.Navigation.UI" xmlns:utu="using:Uno.Toolkit.UI" xmlns:um="using:Uno.Material" NavigationCacheMode="Required" Background="{ThemeResource BackgroundBrush}">
    <ScrollViewer>
        <Grid utu:SafeArea.Insets="VisibleBounds">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <utu:NavigationBar Content="{Binding Title}" />
            <!-- Table Header and Items -->
            <Grid Grid.Row="2" Margin="20,0,20,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="100" />
                    <ColumnDefinition Width="150" />
                </Grid.ColumnDefinitions>
                <!-- Header Row -->
                <Border Grid.Row="0" Grid.ColumnSpan="3" Background="Purple" Padding="10">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="100" />
                            <ColumnDefinition Width="150" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="Process Name" FontWeight="Bold" Foreground="White" />
                        <TextBlock Grid.Column="1" Text="Status" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center" />
                        <TextBlock Grid.Column="2" Text="Actions" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center" />
                    </Grid>
                </Border>
                <!-- Process Items -->
                <ListView Grid.Row="1" Grid.ColumnSpan="3" ItemsSource="{Binding Processes}" SelectionMode="None" Padding="0" Background="Transparent" BorderThickness="0">
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                            <Setter Property="Padding" Value="0" />
                        </Style>
                        <ListView Grid.Row="1" Grid.ColumnSpan="3" x:Name="ProcessesListView" ItemsSource="{Binding Processes}" SelectionMode="None" Padding="0" Background="Transparent" BorderThickness="0">
                            <!-- Rest of the ListView code stays the same -->
                        </ListView>
                    </ListView.ItemContainerStyle>
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Border BorderBrush="{ThemeResource SystemBaseLowColor}" BorderThickness="1,0,1,1" Padding="10">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="100" />
                                        <ColumnDefinition Width="150" />
                                    </Grid.ColumnDefinitions>
                                    <!-- Process Name -->
                                    <TextBlock Grid.Column="0" Text="{Binding Name}" VerticalAlignment="Center" />
                                    <!-- Status Icon (placeholder) -->
                                    <SymbolIcon Grid.Column="1" Symbol="Accept" Foreground="Green" VerticalAlignment="Center" HorizontalAlignment="Center" />
                                    <!-- Action Buttons -->
                                    <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="10" HorizontalAlignment="Center">
                                        <Button Background="Transparent" 
                                               ToolTipService.ToolTip="Edit"
                                               Command="{Binding EditProcessCommand}"
                                               CommandParameter="{Binding}">
                                            <SymbolIcon Symbol="Edit" Foreground="BlueViolet" />
                                        </Button>
                                        <Button Background="Transparent"
                                                ToolTipService.ToolTip="Remove"
                                                Command="{Binding DeleteProcessCommand}"
                                                CommandParameter="{Binding}">
                                            <SymbolIcon Symbol="Delete" Foreground="BlueViolet" />
                                        </Button>
                                    </StackPanel>
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </Grid>
        </Grid>
    </ScrollViewer>
</Page>
